<script>

    document.addEventListener('DOMContentLoaded', function () {
        // Nested price structure for currencies and billing periods
        const prices = {
            'usd': {
                'monthly': '$6.18',
                'annual': '$50'
            },
            'nzd': {
                'monthly': 'NZ$9.55',
                'annual': 'NZ$82.68'
            },
            'gbp': {
                'monthly': '£4.82',
                'annual': '£40.16'
            },
            'eur': {
                'monthly': '€5.31',
                'annual': '€49.25'
            },
            'aud': {
                'monthly': 'A$8.68',
                'annual': 'A$75.06'
            }
        };

        let activeCurrency = 'usd';
        let activeBillingPeriod = 'monthly';

        const priceDisplays = document.querySelectorAll('#price-display, #price-display-2');
        const currencyButtons = Array.from(document.querySelectorAll('.pricing22_currency-item'));
        const billingPeriodButtons = Array.from(document.querySelectorAll('.pricing22_billing-period-item'));

        function updatePriceText() {
            const price = prices[activeCurrency][activeBillingPeriod];
            priceDisplays.forEach(el => {
                el.innerText = price;
            });
        }

        function setActiveButton(activeBtn, buttonGroup) {
            buttonGroup.forEach(button => {
                button.classList.remove('is--active');
            });
            activeBtn.classList.add('is--active');
        }

        currencyButtons.forEach(button => {
            button.addEventListener('click', function () {
                activeCurrency = button.getAttribute('data-currency');
                setActiveButton(button, currencyButtons);
                updatePriceText();
            });
        });

        billingPeriodButtons.forEach(button => {
            button.addEventListener('click', function () {
                activeBillingPeriod = button.getAttribute('data-billing');
                setActiveButton(button, billingPeriodButtons);
                updatePriceText();
            });
        });
    });
</script>